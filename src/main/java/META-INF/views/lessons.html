<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title>Course browsing</title>
	<link rel="stylesheet" href="/webjars/bootstrap/5.3.2/css/bootstrap.min.css">
	<link rel="stylesheet" href="/css/lessons.css">
	<script src="/webjars/jquery/3.7.1/jquery.min.js"></script>
	<script src="/js/lessons.js"></script>
</head>

<body>
	<div class="d-flex flex-row ">
		<div id="lessonSidebar" class="w-25 d-flex flex-column align-items-center">
			<div id="courseIntro" class="d-flex flex-column m-3">
				<div id="courseTitle" class=" h-25 d-flex flex-row justify-content-center align-items-center">
					<div>
						<div id="userIdHolder" th:attr="data-user-id=${userId}"></div>
						<div id="courseIdHolder" th:attr="data-course-id=${courseWithLessons.courseId}"></div>
						<h4 id="courseTitle" class="h-25 d-flex flex-row justify-content-center align-items-center"
							th:text="${courseWithLessons.courseName}">
							Course Title
						</h4>
					</div>
				</div>
				<div id="courseProgressiveBar"
					class="h-25 d-flex flex-column justify-content-center align-items-center">
					<div>
						<h5 id="courseTitle" class="h-25 d-flex flex-row justify-content-center align-items-center"
							th:text="${courseWithLessons.description}">
							Course Description
						</h5>
					</div>
					
				</div>

			</div>
			<div id="lessonContainer" class="d-flex flex-column justify-content-around align-items-center m-3">
				<div th:each="lesson : ${sortedLessons}" class="lesson card mb-2">
					<a href="#" class="lesson-link" th:attr="data-lesson-id=${lesson.lessonId}">
						<div class="card-body">
							<h5 class="card-title" th:text="${'Lesson ' + lesson.lessonId + ' - ' + lesson.title}"></h5>
							<p class="card-text" th:text="${'Description: ' + lesson.description  }"></p>
						</div>
					</a>
				</div>

			</div>
		</div>
		<div id="lessonMainContent"
			class="w-75 d-flex flex-column justify-content-center align-items-center enable-border">
			<div id="lessonSummary" class="enable-border d-flex flex-row justify-content-between">
				<div class="enable-border m-3 d-flex flex-row justify-content-center align-items-center ps-3 pe-3">
					<div id="lessonTitleRight">
						Lesson title
					</div>
				</div>
				<div id="lessonDuration"
					class="enable-border m-3 d-flex flex-row justify-content-center align-items-center ps-3 pe-3">
					<div id="lessonDescriptionRight">
						Description
					</div>
				</div>
			</div>
			<div id="lessonVideo" class="enable-border d-flex flex-row justify-content-center align-items-center">
				<iframe width="1120" height="630" src="https://www.youtube.com/embed/tKQ-MaeayGc?si=jTA5hX_wgbXkr8Ox"
					title="YouTube video player" frameborder="0"
					allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
					allowfullscreen></iframe>
			</div>
			<div id="userOperations" class="enable-border d-flex flex-row justify-content-between align-items-center">

				<div id="leftUserOps" class="d-flex flex-row justify-content-start align-items-center">
					<div class="enable-border ms-3">
						<button type="button" class="btn btn-success">Do exercise!</button>
					</div>
					<div class="enable-border ms-3">
						<a href="/home/courses"><button type="button" class="btn btn-success">Back to courses
								page</button></a>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div id="ratingSection" class="enable-border m-3">
		<div id="ratingContainer" class="m-3">
			<p>Rate this course</p>
			<div class=" w-25 stars d-flex flex-row justify-content-around">
				<div class="star" data-value="1">
					<h5>&#9733;</h5>
				</div>
				<div class="star" data-value="2">
					<h5>&#9733;</h5>
				</div>
				<div class="star" data-value="3">
					<h5>&#9733;</h5>
				</div>
				<div class="star" data-value="4">
					<h5>&#9733;</h5>
				</div>
				<div class="star" data-value="5">
					<h5>&#9733;</h5>
				</div>
			</div>
			<p>Your Rating: <span id="selectedRating">0</span> stars</p>
			<div class="mb-3">
				<label for="reviewMessage" class="form-label">Review Message:</label>
				<textarea class="form-control" id="reviewMessage" rows="3"></textarea>
			</div>
			<button class="btn btn-primary m-3" onclick="submitRating()">Submit Rating</button>
		</div>
		<div id="allCourseRatings">
			<h3>Course Ratings</h3>
			<div class="rating-list d-flex flex-column align-items-start">
				<div class="rating-item">
					<p>User 1</p>
					<div class="user-rating">★★★★☆</div>
					<p>Great course!</p>
				</div>
				<div class="rating-item">
					<p>User 2</p>
					<div class="user-rating">★★★★★</div>
					<p>Excellent content!</p>
				</div>
				<div class="rating-item">
					<p>User 3</p>
					<div class="user-rating">★★★☆☆</div>
					<p>Could be better.</p>
				</div>
				<!-- Add more rating items as needed -->
			</div>
		</div>
	</div>
</body>

</html>